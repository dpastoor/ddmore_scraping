Tue 03/20/2018 
06:37 AM
$PROB NIVOLUMAB POPULATION PK ANALYSIS
; DESCRIPTION: LINEAR 2-CMPT PK MODEL, WITH TIME-VARYINGCL 
;(SIGMOID-EMAX) - FINAL PPK MODEL
; NOTES: METHOD: FOCEI; PROPORTIONAL RESIDUAL ERROR MODEL
; DEFINITIONS OF VARIABLES IN PPK DATASET
; TIME: ACTUAL TIME AFTER FIRST DOSE
; BBWT: BASELINE BODY WEIGHT
; BALB: BASELINE ALBUMIN 
; BLDH: BASELINE LACTATE DEHYDROGENASE 
; TTYPEN: TUMOR TYPE (1=MEL; 2=NSCLC; 3=OTHERS; 4=RCC)
; HEPAN: HEPATIC FUNCTION (1=NORMAL)
; RACEN: RACE (1=WHITE; 2=AFRICAN AMERICAN; 3=ASIAN, 4=OTHERS)
; PS: PERFORMANCE STATUS (0, 1)
; SEXN: 1=MALE; 2=FEMALE
; FLAGN: EXCLUSION VARIABLE (1=EXCLUDED RECORDS)

$INPUT  ID TIME EVID AMT RATE DV AGE SEXN BBWT BGFR PS RACEN 
       FLAGN MDV 


$DATA ..\pkdata1.csv IGNORE=@
 IGNORE=(FLAGN=1)

$SUBROUTINE ADVAN3 TRANS4 

$SIM (NEW 123456) ONLYSIM SUBPROBLEMS=1

;$COVARIANCE PRINT=ER

$THETA 
 (0, 0.010) ; CL [L/H] ; THETA1
 (0, 4) ; VC [L] ; THETA2
 (0, 0.04) ; Q [L/H] ; THETA3
 (0, 4) ; VP [L] ; THETA4
 ;
 0 FIX ; AERR [UG/ML] ; THETA5
 (0, 0.5) ; PERR [-] ; THETA6
 ;
(0.05)  ; CL_BBWT ; THETA7
(0.1) ; CL_GFR ; THETA8
(0.1) ; CL_SEX ; THETA9
(0.05) ; CL_PS ; THETA10
(-0.05) ; CL_RAAS; THETA11
(0.05)  ; VC_BBWT ; THETA12
(0.1) ; VC_SEX ; THETA13
;
0.01 ; CL_EMAX ; THETA14
1800 ; CL_T50 ; THETA15
1 ; CL_HILL; THETA16

$OMEGA BLOCK(2)
0.5 ; ZCL [-]
0.1 0.3 ; ZVC [-]
;
$OMEGA
0.3 ; ZVP [-]
0.1 ; ZEMAX [H]

$SIGMA  
 1 FIX ; RESERR

$PK 
; DEFINE FIXED EFFECTS PARAMETERS
 ACL=THETA(1)
 AV1=THETA(2)
 AQ=THETA(3)
 AV2=THETA(4)

; DEFINE PARAMETERS OF TIME-VARYING CL (SIGMOID EMAX)
 AEMAX=THETA(14)
 T50=THETA(15)
 HILL=THETA(16)

; DEFINE PARAMETERS OF RESIDUAL ERROR MODEL 
 AERR=THETA(5) ; ADDITIVE
 PERR=THETA(6) ; PROPORTIONAL
 
; DEFINE PARAMETERS OF BETWEEN-SUBJECT VARIABILITY 
 ZCL=ETA(1)
 ZV1=ETA(2)
 ZV2=ETA(3)
 ZEMAX=ETA(4)
 
; IMPUTE COVARIATE VALUES AND DEFINE EFFECTS
; MISSING CONTINUOUS COVARIATES ARE IMPUTED AS MEDIAN
; MISSING CATEGORICAL COVARIATES ARE IMPUTED AS MODE
 
 MVAL=-99 ; MISSING VALUE IN DATASET

; BASELINE BODY WEIGHT
 BBWT_R=80 ; REFERNCE VALUE, KG
 BBWT_I=BBWT
 IF (BBWT_I .EQ. MVAL) BBWT_I=BBWT_R ; IMPUTATION TO REFERENCE (~MEDIAN)
;
 CL_BBWT=(BBWT_I/BBWT_R)**THETA(7) 

;BASELINE GFR
 BGFR_R=90 ; REFERENCE VALUE, ML/MIN
 BGFR_I=BGFR
 IF (BGFR_I .EQ. MVAL) BGFR_I=BGFR_R; GFR IMPUTATION TO MEDIAN
 CL_BGFR=(BGFR_I/BGFR_R)**THETA(9)

; SEX
 SEX_I=SEXN
 IF (SEX_I .EQ. MVAL) SEX_I=1; MALE
 CL_MALE=THETA(9) ; EFFECT OF FEMALE:MALE

; PERFORMANCE STATUS (PS)
 PS_I=PS
 IF (PS .EQ. MVAL) PS_I=1 ; IMPUTE MISSING PS TO 1 
 CL_PS_1=THETA(10); EFFECT OF PS 1+:0

; RACE
 RACE_I=RACEN
 IF (RACE_I .EQ. MVAL) RACE_I=1; WHITE
 CL_RAAS=THETA(11) ; EFFECT OF ASIAN:WHITE/OTHER

; VC
 V1_BBWT=(BBWT_I/BBWT_R)**THETA(12)
 V1_SEX=THETA(13)

; TIME-VARYING CL (SIGMOID EMAX FUNCTION)
 EMAX=AEMAX + ZEMAX
 CL_TIME=EXP(EMAX*TIME**HILL/(T50**HILL+TIME**HILL))

; DEFINE MODEL PARAMETERS: ADD COVARIATE EFFECT
 TVCL=ACL * CL_BBWT  * CL_BGFR  * CL_TIME
 IF (SEX_I .EQ. 1) TVCL=TVCL * EXP(CL_MALE) ; REFERENCE IS SEX=2 (FEMALE)
 IF (PS_I .GE. 1) TVCL=TVCL * EXP(CL_PS_1) ; REFERENCE IS PS=0

 IF (RACE_I .EQ. 3) TVCL=TVCL * EXP(CL_RAAS) ; REFERENCE IS WHITE/OTHERS
 
;  
 TVV1=AV1 * V1_BBWT
 IF (SEX_I .EQ. 1) TVV1=TVV1 * EXP(V1_SEX) ; REFERENCE IS SEX=2 (FEMALE)


; CALCULATE PK PARAMETERS
  CL=TVCL*EXP(ZCL)
  V1=TVV1*EXP(ZV1)
  Q=AQ   
  V2=AV2*EXP(ZV2)
  S1=V1

; CALCULATE ALPHA AND BETA HALF-LIFE
 KE=CL/V1
 K23=Q/V1
 K32=Q/V2
 AA=KE+K23+K32
 ALPH=(AA+SQRT(AA*AA-4*KE*K32))/2
 BETA=(AA-SQRT(AA*AA-4*KE*K32))/2


 ALPHHL=LOG(2)/ALPH
 BETAHL=LOG(2)/BETA


$ERROR 
; DEFINE RESIDUAL ERROR WEIGHT
 REWT=F*PERR + AERR ; PROPORTIONAL ERROR MODEL (ADDITIVE ERROR FIXED TO 0)

 IPRED=F
 IRES=DV - IPRED
 IWRES=IRES/REWT
 Y=IPRED + REWT*EPS(1)


$TABLE ID TIME EVID AMT RATE DV 
       PRED CIPRED RES CIRES CWRES CIWRES  
      CL V1 Q V2 ALPHHL BETAHL EMAX T50 HILL FLAGN 
       NOPRINT ONEHEADER FILE=simnivo-ppk-final.fit








  
NM-TRAN MESSAGES 
  
 WARNINGS AND ERRORS (IF ANY) FOR PROBLEM    1
             
 (WARNING  2) NM-TRAN INFERS THAT THE DATA ARE POPULATION.
             
 (WARNING  40) $THETA INCLUDES A NON-FIXED INITIAL ESTIMATE CORRESPONDING TO
 A THETA THAT IS NOT USED IN ABBREVIATED CODE.
License Registered to: Howard University
Expiration Date:    14 DEC 2018
Current Date:       20 MAR 2018
Days until program expires : 264
1NONLINEAR MIXED EFFECTS MODEL PROGRAM (NONMEM) VERSION 7.3.0
 ORIGINALLY DEVELOPED BY STUART BEAL, LEWIS SHEINER, AND ALISON BOECKMANN
 CURRENT DEVELOPERS ARE ROBERT BAUER, ICON DEVELOPMENT SOLUTIONS,
 AND ALISON BOECKMANN. IMPLEMENTATION, EFFICIENCY, AND STANDARDIZATION
 PERFORMED BY NOUS INFOSYSTEMS.

 PROBLEM NO.:         1
 NIVOLUMAB POPULATION PK ANALYSIS
0DATA CHECKOUT RUN:              NO
 DATA SET LOCATED ON UNIT NO.:    2
 THIS UNIT TO BE REWOUND:        NO
 NO. OF DATA RECS IN DATA SET:    11563
 NO. OF DATA ITEMS IN DATA SET:  14
 ID DATA ITEM IS DATA ITEM NO.:   1
 DEP VARIABLE IS DATA ITEM NO.:   6
 MDV DATA ITEM IS DATA ITEM NO.: 14
0INDICES PASSED TO SUBROUTINE PRED:
   3   2   4   5   0   0   0   0   0   0   0
0LABELS FOR DATA ITEMS:
 ID TIME EVID AMT RATE DV AGE SEXN BBWT BGFR PS RACEN FLAGN MDV
0(NONBLANK) LABELS FOR PRED-DEFINED ITEMS:
 T50 HILL EMAX CL V1 Q V2 ALPHHL BETAHL
0FORMAT FOR DATA:
 (E4.0,E7.0,E2.0,3E7.0,E3.0,E2.0,E6.0,E7.0,4E2.0)

 TOT. NO. OF OBS RECS:     5442
 TOT. NO. OF INDIVIDUALS:    486
0LENGTH OF THETA:  16
0DEFAULT THETA BOUNDARY TEST OMITTED:    NO
0OMEGA HAS BLOCK FORM:
  1
  1  1
  0  0  2
  0  0  0  3
0DEFAULT OMEGA BOUNDARY TEST OMITTED:    NO
0SIGMA HAS SIMPLE DIAGONAL FORM WITH DIMENSION:   1
0DEFAULT SIGMA BOUNDARY TEST OMITTED:    NO
0INITIAL ESTIMATE OF THETA:
 LOWER BOUND    INITIAL EST    UPPER BOUND
  0.0000E+00     0.1000E-01     0.1000E+07
  0.0000E+00     0.4000E+01     0.1000E+07
  0.0000E+00     0.4000E-01     0.1000E+07
  0.0000E+00     0.4000E+01     0.1000E+07
  0.0000E+00     0.0000E+00     0.0000E+00
  0.0000E+00     0.5000E+00     0.1000E+07
 -0.1000E+07     0.5000E-01     0.1000E+07
 -0.1000E+07     0.1000E+00     0.1000E+07
 -0.1000E+07     0.1000E+00     0.1000E+07
 -0.1000E+07     0.5000E-01     0.1000E+07
 -0.1000E+07    -0.5000E-01     0.1000E+07
 -0.1000E+07     0.5000E-01     0.1000E+07
 -0.1000E+07     0.1000E+00     0.1000E+07
 -0.1000E+07     0.1000E-01     0.1000E+07
 -0.1000E+07     0.1800E+04     0.1000E+07
 -0.1000E+07     0.1000E+01     0.1000E+07
0INITIAL ESTIMATE OF OMEGA:
 BLOCK SET NO.   BLOCK                                                                    FIXED
        1                                                                                   NO
                  0.5000E+00
                  0.1000E+00   0.3000E+00
        2                                                                                   NO
                  0.3000E+00
        3                                                                                   NO
                  0.1000E+00
0INITIAL ESTIMATE OF SIGMA:
 0.1000E+01
0SIGMA CONSTRAINED TO BE THIS INITIAL ESTIMATE
0SIMULATION STEP OMITTED:    NO
 OBJ FUNC EVALUATED:         NO
0SIMULATION RANDOM METHOD SELECTED (RANMETHOD): DEFAULT
 SOURCE   1:
   SEED1:        123456   SEED2:             0   PSEUDO-NORMAL
 DIFFERENT ETA AND EPS WITH EACH CALL TO SIMETA AND SIMEPS
 NUMBER OF SUBPROBLEMS:    1
0TABLES STEP OMITTED:    NO
 NO. OF TABLES:           1
 SEED NUMBER (SEED):    11456
 RANMETHOD:
 MC SAMPLES (ESEED):    300
 WRES SQUARE ROOT TYPE:            EIGENVALUE
0-- TABLE   1 --
 PRINTED:                NO
 HEADERS:               ONE
 FILE TO BE FORWARDED:   NO
 FORMAT:                S1PE11.4
 LFORMAT:
 RFORMAT:
0USER-CHOSEN ITEMS:
 ID TIME EVID AMT RATE DV CIPRED CIRES CWRES CIWRES CL V1 Q V2 ALPHHL BETAHL EMAX T50 HILL FLAGN
1DOUBLE PRECISION PREDPP VERSION 7.3.0

 TWO COMPARTMENT MODEL (ADVAN3)
0MAXIMUM NO. OF BASIC PK PARAMETERS:   4
0BASIC PK PARAMETERS (AFTER TRANSLATION):
   BASIC PK PARAMETER NO.  1: ELIMINATION RATE (K)
   BASIC PK PARAMETER NO.  2: CENTRAL-TO-PERIPH. RATE (K12)
   BASIC PK PARAMETER NO.  3: PERIPH.-TO-CENTRAL RATE (K21)
 TRANSLATOR WILL CONVERT PARAMETERS
 CL, V1, Q, V2 TO K, K12, K21 (TRANS4)
0COMPARTMENT ATTRIBUTES
 COMPT. NO.   FUNCTION   INITIAL    ON/OFF      DOSE      DEFAULT    DEFAULT
                         STATUS     ALLOWED    ALLOWED    FOR DOSE   FOR OBS.
    1         CENTRAL      ON         NO         YES        YES        YES
    2         PERIPH.      ON         NO         YES        NO         NO
    3         OUTPUT       OFF        YES        NO         NO         NO
1
 ADDITIONAL PK PARAMETERS - ASSIGNMENT OF ROWS IN GG
 COMPT. NO.                             INDICES
              SCALE      BIOAVAIL.   ZERO-ORDER  ZERO-ORDER  ABSORB
                         FRACTION    RATE        DURATION    LAG
    1            5           *           *           *           *
    2            *           *           *           *           *
    3            *           -           -           -           -
             - PARAMETER IS NOT ALLOWED FOR THIS MODEL
             * PARAMETER IS NOT SUPPLIED BY PK SUBROUTINE;
               WILL DEFAULT TO ONE IF APPLICABLE
0DATA ITEM INDICES USED BY PRED ARE:
   EVENT ID DATA ITEM IS DATA ITEM NO.:      3
   TIME DATA ITEM IS DATA ITEM NO.:          2
   DOSE AMOUNT DATA ITEM IS DATA ITEM NO.:   4
   DOSE RATE DATA ITEM IS DATA ITEM NO.:     5

0PK SUBROUTINE CALLED WITH EVERY EVENT RECORD.
 PK SUBROUTINE NOT CALLED AT NONEVENT (ADDITIONAL OR LAGGED) DOSE TIMES.
0ERROR SUBROUTINE CALLED WITH EVERY EVENT RECORD.
1
 PROBLEM NO.:         1     SUBPROBLEM NO.:      1

 SIMULATION STEP PERFORMED
 SOURCE  1:
    SEED1:     205274513   SEED2:    1059598257
 ESTIMATION STEP OMITTED:                 YES 
 #CPUT: Total CPU Time in Seconds,        3.141
Stop Time: 
Tue 03/20/2018 
06:37 AM
start 03/20/2018
end   03/20/2018
exe  nmtcl
user 0:4.1
real 0:4.1
sys  0:0
start 03/20/2018
end   03/20/2018
exe  nonmem
user 0:7.05
real 0:7.05
sys  0:0
